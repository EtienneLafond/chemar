<!-- Include the header and navbar partials -->
<%- include('partials/header') %>
<%- include('partials/navbar')%>

<script>
//Function to load scenes on start
function getScenes(){
  //test scenes to be replaced with database format
  let json = '{"list" : [' +
    '{ "name": "Test Scene 1","description": "This is a test dummy scene for testing scene display feature"},' +
    '{"name": "Test Scene 2","description": "This is a test dummy scene for testing scene display feature"} ]}';
  let scenes = JSON.parse(json);

  let display = document.getElementById("sceneDisplay");
  for(let i = 0; i < Object.keys(scenes.list).length; i++){
    //Get next scene
    let name = scenes.list[i].name;
    let description = scenes.list[i].description;

    //Create new space for scene
    let div = document.createElement("div");
    div.className = "row text-center";

    let idDisplay = document.createElement("p");
    idDisplay.className = "border-top border-end btn-dark col-2 m-0";

    let nameDisplay = document.createElement("p");
    nameDisplay.className = "border-top border-end btn-dark col-3 m-0";

    let descriptionDisplay = document.createElement("p");
    descriptionDisplay.className = "border-top btn-dark col m-0";

    //Add scene to display
    idDisplay.innerText = i;
    nameDisplay.innerText = name;
    descriptionDisplay.innerText = description;

    display.appendChild(div);
    div.appendChild(idDisplay);
    div.appendChild(nameDisplay);
    div.appendChild(descriptionDisplay);
  }
}
</script>

<!--Button to quickly move to profile section on mobile-->
<div class= "d-flex col-3 d-md-none">
  <a href="#options" class="btn btn-outline-light">Profile</a>
</div>
<div class="container-fluid row m-0 mt-2 p-0">
  <!--Scene display box-->
  <div class="container col-12 col-md-7 border bg-light bg-dark text-white" id="sceneDisplay">
    <div class="row border-bottom justify-content-center">
      <h1 class="offset-1 col fw-bold text-center">Scenes Manager</h1>
      <button class="btn btn-secondary col-1 p-0 align-self-center m-1">Add</button>
    </div>
    <div class="row">
      <button class="btn border-end btn-dark col-2 rounded-0">ID</button>
      <button class="btn border-end bottom btn-dark col-3 rounded-0">Name</button>
      <button class="btn btn-dark col rounded-0">Description</button>
    </div>
    <!--New scenes placed here-->
  </div>
</div>

<script>

  $(document).ready(function () {
      $('#molTable').DataTable({
          scrollY: '500px',
          scrollCollapse: true,
          paging: true
      });
  });

</script>
<script>getScenes();</script>
<%- include('partials/footer') %>